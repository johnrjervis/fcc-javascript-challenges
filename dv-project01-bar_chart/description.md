# Visualise data with a bar chart

This is my solution to [the first of freeCodeCamp's D3 certification project challenges].

The official tests for this challenge are in the [fCC test bundle script].

The data for this challenge is US GDP information and this is available from [the project reference section of fCC's github repo].

## While working on this project, I made the following notes:

- I have gone slightly beyond the initial project brief and created a function that will attempt to fit the bar chart in the available browser window without making the bars too small. The number of datapoints are taken into account along with the browser window's `innerWidth` and `innerHeight`, and this information is used to set the graph size, scale the axes, and set the width of the bars. While I have generalised some of the bar chart creation, there are still several features that are unique to the GDP dataset: the text of the on-hover 'tooltips', for example, features each datapoint's date converted into year quarters (e.g. 2002, Q2) and value in billions of dollars. This could easily be abstracted into a function that could be updated or swapped for a different function depending on the input dataset, however.
- Although D3's `scaleLinear` method can handle time and date values, the `scaleTime` method is specifically designed for this type of data. The fCC test for x-axis alignment fails if `scaleLinear` is used for this axis.
- When I set the bar's `fill` attribute with D3's `attr` method, the CSS `:hover` rule to change the bar's color worked; when I set the bar's `fill` with D3's `style` method, however, the `:hover` rule stopped working. (At least that was the case in the version of FireFox that I was using to view my bar chart.)
- When adjusting the appearance of axes that are generated by D3, the axis lines, tick marks and text can be targeted by using the `selectAll` method with the arguments `path`, `line` and `text`, respectively. Alternatively, setting the `stroke` and `color` with `attr` targets the axis text, and line and ticks, respectively.
- The left side of each bar is aligned with the corresponding value of the x-axis. This means that the final bar 'overhangs' the end of the x-axis, which I find slightly ugly (and this problem becomes worse as the width of the bars increases). To change this, I added some code to extend the x-axis by one datapoint (based on the assumption that the time interval between each pair of adjacent datapoints was constant). I decided my solution was just as ugly as the problem that it solved, however, and so I have commented this code out. An alternative option would be to adjust the x-position of each bar by half a bar width to the left, so that the middle of each bar is aligned with the corresponding axis value. I suspect, however, that this would cause fCC's x-axis alignment test to fail, however.
- I created some tests with [QUnit] for my solution for this challenge. Most of these tests relate to the functionality that I designed in order to get my code to be able to handle different datasets.
- The appearance of my bar chart (particularly the bright detail with a slight blur on a dark background) was inspired by Jon Lomberg's diagrams for the book 'Comet' by Carl Sagan & Ann Druyan (first published in the UK by Michael Joseph Ltd.).
- To achieve a subtle blur on the SVG bars, I used the `SVGFEGaussianBlurElement` interface, which is described by [this article on MDN web docs].

[the first of freeCodeCamp's D3 certification project challenges]: https://www.freecodecamp.org/learn/data-visualization/data-visualization-projects/visualize-data-with-a-bar-chart
[fCC test bundle script]: https://cdn.freecodecamp.org/testable-projects-fcc/v1/bundle.js
[the project reference section of fCC's github repo]: https://raw.githubusercontent.com/freeCodeCamp/ProjectReferenceData/master/GDP-data.json
[QUnit]: https://qunitjs.com/
[this article on MDN web docs]: https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feGaussianBlur
